---
- name: MySQL installation
  apt:
   name: mysql-server
   state: latest

- name: Establishing MySQL-Python
  apt:
   name: python3-mysqldb
   state: latest

- name: MySQL Begin
  service:
   name: mysql
   state: started
   enabled: true

- name: Executing the secure Installation, Setting MySQL root pass
  mysql_user:
   login_host: 'localhost'
   login_user: 'root'
   login_password: ''
   name: 'root'
   password: '{{ pass_word }}'
   state: present


- name: Executing the secure installation for removing MySQL test database
  mysql_user:
   login_user: 'root'
   login_password: '{{ pass_word }}'
   name: ''
   host: localhost
   state: absent

- name: Executing again secure installation for the test database
  mysql_db:
   login_user: 'root'
   login_password: '{{ pass_word }}'
   name: test
   state: absent
- name: Verifying MySQL version
  shell: mysql --version
  register: mysqlv

- name: Result
  debug:
   msg: "{{ mysqlv.stdout }}"




# tasks file for roles/installmysql