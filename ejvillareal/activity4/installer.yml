---
# ansible-playbook installer.yml

- name: Install Java on Ubuntu
  hosts: ubuntu
  tasks:
    - name: Install Java
      apt:
         name: default-jre
         state: latest
         update_cache: yes

- name: Install Java on CentOS
  hosts: centos
  tasks:
    - name: Install Java
      yum:
         name: java-1.8.0-openjdk
         state: latest
         update_cache: yes

- name: Run tasks on all hosts
  hosts: "*"
  tasks:
    - name: Install ansible, boto, and openstack via pip
      pip:
         name:
           - ansible
           - boto
           - python-openstackclient
