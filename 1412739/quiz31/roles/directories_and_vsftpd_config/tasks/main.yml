---
# tasks file for roles/directories_and_vsftpd_config

- name: FTP Directory 
  file:
          - path: ~/jeremy/ftp
          - state: directory
          - owner: nobody
          - group: nogroup
          - mode: '0555'

- name: Creating FTP Directory 
  file:
          - path: ~/jeremy/ftp
          - state: directory
          - owner: jeremy 
          - group: jeremy

- name: copying vsftpd.conf 
  copy:
          - src: vsftpd.conf 
          - dest: /etc/vsftpd.conf
          - register: vsftpd_config

- name: Restarting the vsftpd.conf
  service:
          - name: vsftpd
          - state: restarted 
          - when: vsftpd_config.changed
