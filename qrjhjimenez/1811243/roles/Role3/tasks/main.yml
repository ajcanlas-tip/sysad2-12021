---
# tasks file for roles/Role3
- name: Configuring files directory PART1
  copy:
   src: /etc/apache2/sites-available/000-default.conf
   remote_src: yes
   dest: ~/sampleweb.conf

- name: Configuring files directory PART2
  copy:
   src: ~/sampleweb.conf
   remote_src: yes
   dest: /etc/apache2/sites-available

- name: Editing configuration file
  lineinfile:
   path: /etc/apache2/sites-available/sampleweb.conf
   line: "ServiceAdmin ryan@example.com"

- name: Configuring document root
  replace:
   path:  /etc/apache2/sites-available/sampleweb.conf
   regexp: '/var/www/html'
   replace: '/var/www/sampleweb'

- name: Setting Server name
  lineinfile:
   path:  /etc/apache2/sites-available/sampleweb.conf
   line: "ServerName sampleweb.example.com"

- name: Restarting Apache
  service:
   name: apache2
   state: restarted
