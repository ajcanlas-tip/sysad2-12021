---
# tasks file for roles/folders

 - name: ftp directory
   file:
     path: ~/vespinosa-tip/ftp
     state: directory
     owner: nobody
     group: nogroup
     mode: '0555'

- name: create files for ftp directory
  file:
    path: ~vespinosa-tip/ftp/files
    state: directory
    owner: vespinosa
    group: vespinosa

- name: copy vsftpd.conf
  copy:
    src: vsftpd.conf
    dest: /etc/vsftpd.conf
  register: vsftpd_config

- name: restart vsftpd.conf
  service:
    name: vsftpd
    state: restarted
  when: vsftpd_config.changed
