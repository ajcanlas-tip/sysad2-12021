---
- name: Docker installation
  apt:
   name: 
   - docker.io
   - python3-pip
   state: latest
   update_cache: yes

- name: Docker module
  pip: 
   name: docker
   state: latest

- name: Docker startup
  service:
   name: docker
   state: started
   enabled: yes

- name: Elasticsearch container
  docker_container:
   name: elasticsearch
   image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1
   env:
    discovery.type: "single-node"
   ports:
      - 9200:9200
      - 9300:9300

# tasks file for roles/elasticsearch